[![GNU GPL v3.0](http://www.gnu.org/graphics/lgplv3-88x31.png)](http://www.gnu.org/licenses/lgpl.html)
[![GNU GPL v3.0](http://www.gnu.org/graphics/gplv3-88x31.png)](http://www.gnu.org/licenses/gpl.html)

### About
Nesemu is a minimal NES emulator designed to teach students the decode-and-dispatch technique and general device emulation. This project is the result of a course I taught at Unicamp during my PhD, in which students successfully developed emulators and highly creative NES games. The course was well received and led to several outstanding derivative projects.
This repository includes a reference implementation of the Ricoh 2A03 processor, which I created to assist students during the course. For more information, see the supporting material: [Introduction To The NES Hardware.pdf](https://raw.githubusercontent.com/AlissonLinhares/nesemu/master/doc/IntroductionToTheNESHardware.pdf)

### Directory Structure
```sh
tst/ – Emulator tests using the NROM format
res/ – Test results
log/ – Emulator output logs
ext/ – Contains the asm6f assembly code
bin/ – Binaries generated by the Makefile
doc/ – Supporting materials
```

### Makefile Rules
```sh
make – Compile the emulator
make test – Run all emulator tests and compare the output with the expected results in res/
make clean – Remove all generated files
make setup – Install emulator dependencies
```

### Dependencies
You'll need the following packages:
```sh
sudo apt-get install libsdl1.2-dev libsdl-image1.2-dev libsdl-mixer1.2-dev libsdl-ttf2.0-dev
```
### How to Compile and Run the Tests
```sh
make setup   # Install dependencies  
make test    # Run all tests
```

The CPU implementation is nearly complete. You can run some homebrews and simple programs on the emulator. For example, to run the snake game:
```sh
./bin/nesemu ./snake.rom
```
![Demo](https://raw.githubusercontent.com/AlissonLinhares/nesemu/master/doc/snake.gif)
